<%# USWDS pagination: https://designsystem.digital.gov/components/pagination/ %>

<% if pagy.series.length > 1 %>
  <nav aria-label="pagination" class="usa-pagination">
    <ul class="usa-pagination__list">

      <%# previous %>
      <% if pagy.prev %>
        <li class="usa-pagination__item usa-pagination__arrow">
          <%= link_to complaints_path(page: pagy.prev),
            class: "usa-pagination__link usa-pagination__previous-page",
            "aria-label": "Previous page" do
          %>
            <svg class="usa-icon" aria-hidden="true" role="img">
              <use xlink:href="/assets/img/sprite.svg#navigate_before"></use>
            </svg>

            <span class="usa-pagination__link-text"> Previous </span>
          <% end %>
        </li>
      <% end %>

      <%# pages %>
      <%# series example: [1, :gap, 7, 8, "9", 10, 11, :gap, 36] %>
      <% pagy.series.each do |item| %>
        <% if item == :gap %>
          <li
            class="usa-pagination__item usa-pagination__overflow"
            role="presentation"
          >
            <span> â€¦ </span>
          </li>
        <% else %>
          <li class="usa-pagination__item usa-pagination__page-no">
            <%= page_link(item, current: !!item.is_a?(String)) %>
          </li>
        <% end %>
      <% end %>

      <%# next %>
      <% if pagy.next %>
        <li class="usa-pagination__item usa-pagination__arrow">
          <%= link_to complaints_path(page: pagy.next),
            class: "usa-pagination__link usa-pagination__next-page",
            "aria-label": "Next page" do
          %>
            <svg class="usa-icon" aria-hidden="true" role="img">
              <use xlink:href="/assets/img/sprite.svg#navigate_next"></use>
            </svg>

            <span class="usa-pagination__link-text"> Next </span>
          <% end %>
        </li>
      <% end %>
    </ul>
  </nav>
<% end %>
