<div class="details-header">
  <div class="grid-container">
    <h1>Issue #<%= @complaint.id %></h1>
  </div>
</div>
<div class="details-body grid-container">
  <div class="grid-row grid-gap">
    <div class="grid-col-4">
      <div class="summary-section">
        <h2>Summary</h2>
        <p>
          <strong><%= @complaint.grantee %>:</strong>
          <%= @complaint.issue %>
        </p>
      </div>
    </div>

    <div class="grid-col-8">
      <div class="summary-section">
        <h2 class="ct-timeline__header ct-timeline__two-part-container">
          <%= status(@complaint.attributes) %>
          <span class="ct-timeline__date">
            <% if @complaint.overdue? %>
              <span class="ct-timeline__overdue">Overdue (Due <%= @complaint.due_date.strftime("%-m/%-d/%Y") %>)</span>
            <% elsif @complaint.due_soon? %>
              <span class="ct-timeline__due-soon">TODO relative time to due (<%= @complaint.due_date.strftime("%-m/%-d/%Y") %>)</span>
            <% elsif @complaint.due_date? %>
              TODO relative time to due (<%= @complaint.due_date.strftime("%-m/%-d/%Y") %>)
            <% else %>
              No Due Date
            <% end %>
          </span>
        </h2>
        <ul class="usa-process-list">
          <% @complaint.events.each do |event| %>
            <li class="usa-process-list__item usa-process-list__item-disc">
              <h4 class="usa-process-list__heading ct-timeline__two-part-container">
                <%= @complaint.event_label(event.first) %>
                <span class="ct-timeline__date"><%= event.last.strftime("%-m/%-d/%Y") %></span>
              </h4>
            </li>
          <% end %>
        </ul>
      </div>
    </div>
  </div>
</div>
